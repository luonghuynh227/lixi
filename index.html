<!DOCTYPE html>
<html lang="en">
	<head>
		
		<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Vòng quay lì xì tết canh tý 2020</title>
	<meta name="description"
		content="Vòng quay, lì xì, tết, canh tý, 2020" />
	<meta name="keywords"
		content="Vòng quay, lì xì, tết, canh tý, 2020" />

	<meta itemprop="image" content="https://luonghuynh227.github.io/lixi/assets/images/bg-share-fb.jpg">

	<meta property="fb:app_id" content="173142806974591" />
	<meta property="fb:page_id" content=119714152747646 />
	<meta property="og:locale" content="vi_VN" />
	<meta property="og:type" content="website" />
	<meta property="og:description"
		content="Vòng quay, lì xì, tết, canh tý, 2020" />
	<meta property="og:url" content="https://luonghuynh227.github.io/lixi/" />

	<meta property="og:site_name"
		content="Vòng quay, lì xì, tết, canh tý, 2020" />

	<meta property="og:image" content="https://luonghuynh227.github.io/lixi/assets/images/bg-share-fb.jpg" />
	<meta property="og:image:alt"
		content="Vòng quay, lì xì, tết, canh tý, 2020" />

	<link rel="manifest" href="favicons/manifest.json">
	<link rel="icon" href="favicon.ico" type="image/x-icon" />
	<link rel="apple-touch-icon" href="favicons/apple-icon-152x152.png">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="theme-color" content="white" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="apple-mobile-web-app-title" content="Vòng quay lì xì tết canh tý 2020">
	<meta name="msapplication-TileImage" content="favicons/apple-icon-144x144.png">
	<meta name="msapplication-TileColor" content="#fbc7d4">


	<link rel="apple-touch-icon" sizes="57x57" href="favicons/apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="favicons/apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="favicons/apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="favicons/apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="favicons/apple-icon-114x114.png">
	<!-- <link rel="apple-touch-icon" sizes="120x120" href="favicons/apple-icon-120x120.png"> -->
	<link rel="apple-touch-icon" sizes="144x144" href="favicons/apple-icon-144x144.png">
	<!-- <link rel="apple-touch-icon" sizes="152x152" href="favicons/apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-icon-180x180.png"> -->
	<link rel="icon" type="image/png" sizes="192x192" href="favicons/android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="favicons/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="favicons/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="favicons/favicon-16x16.png">
	<meta name="apple-mobile-web-app-title" content="luonghuynh227.github.io/lixi/">
	<meta name="application-name" content="luonghuynh227.github.io/lixi/">

	<meta name="msapplication-TileColor" content="#fbc7d4">
	<meta name="msapplication-TileImage" content="favicons/ms-icon-144x144.png">
	<meta name="theme-color" content="#fbc7d4">

		<link rel="stylesheet" href="assets/css/main.css">
	</head>

	<body>	

		<div class="spin-wheel">
  <div class="container">
    <div class="spin-wheel-main">
      <img id="wheel" class="img-wheel" src="assets/images/wheel.png" alt="">
      <img class="img-light" src="assets/images/light.png" alt="">
      <img class="img-light-odd" src="assets/images/light-odd.png" alt="">
      <img class="img-light-even" src="assets/images/light-even.png" alt="">
      <img class="img-bg-muiten" src="assets/images/bg-muiten.png" alt="">
      <img class="img-muiten" src="assets/images/muiten.png" alt="">
      <img id="button" class="btn-wheel rotate-circle" src="assets/images/btn2.png" alt="">
    </div>
  </div>
</div>



		<div class="box-setting">
	<div class="arrow-setting">
		
	</div>
	<div class="main-setting">
		<p class="txt-guide f-vl_b_n_black">Chọn vị trí muốn dừng:</p>
		
		<ul class="list-btn-setting ">
			<li class="active">
				<div class="t-center btn-setting f-iciel_soup_of_justice t-shadow-red-orange" data-setting="0">Random</div>
			</li>
		</ul>

		<ul class="list-btn-setting">
			<li>
				<div class="t-center btn-setting f-iciel_soup_of_justice t-shadow-red-orange" data-setting="1">+1 lượt</div>
			</li>
			<li>
				<div class="t-center btn-setting f-iciel_soup_of_justice t-shadow-red-orange" data-setting="9">1$</div>
			</li>
			<li>
				<div class="t-center btn-setting f-iciel_soup_of_justice t-shadow-red-orange" data-setting="3">2$</div>
			</li>
			<li>
				<div class="t-center btn-setting f-iciel_soup_of_justice t-shadow-red-orange" data-setting="6">1k</div>
			</li>
			<li>
				<div class="t-center btn-setting f-iciel_soup_of_justice t-shadow-red-orange" data-setting="10">2k</div>
			</li>
			<li>
				<div class="t-center btn-setting f-iciel_soup_of_justice t-shadow-red-orange" data-setting="11">5k</div>
			</li>
			<li>
				<div class="t-center btn-setting f-iciel_soup_of_justice t-shadow-red-orange" data-setting="2">10k</div>
			</li>
			<li>
				<div class="t-center btn-setting f-iciel_soup_of_justice t-shadow-red-orange" data-setting="5">20k</div>
			</li>
			<li>
				<div class="t-center btn-setting f-iciel_soup_of_justice t-shadow-red-orange" data-setting="7">50k</div>
			</li>
			<li>
				<div class="t-center btn-setting f-iciel_soup_of_justice t-shadow-red-orange" data-setting="8">100k</div>
			</li>
			<li>
				<div class="t-center btn-setting f-iciel_soup_of_justice t-shadow-red-orange" data-setting="4">200k</div>
			</li>
			<li>
				<div class="t-center btn-setting f-iciel_soup_of_justice t-shadow-red-orange" data-setting="12">500k</div>
			</li>
		</ul>
	</div>
</div>
		<div class="popup popup-small" id="popup-ket-qua" style="display: none;">
  <a class="close-content-full"></a>
    <div class="content-popup">
        <div class="wrapper-popup">
          <div class="detail-ket-qua">
            <p class="t-center f-vl_b_n_black txt-congrat">Chúc mừng</p>
            <p class="t-center f-vl_b_n_black txt-get">bạn đã nhận được</p>
            <p class="t-center img-ket-qua">
              <img src="" alt="">
            </p>
            <div class="t-center plus-spin f-iciel_soup_of_justice t-shadow-red-orange" style="font-size: 70px;color: #fe903c; display: none;">
              +1 lượt
            </div>
            
            <div class="t-center btn-close f-iciel_soup_of_justice t-shadow-red-orange">
              đóng
            </div>
          </div>
        </div>
    </div>
</div>

<div class="load-all-image" style="display: none;">
	<img src="assets/images/1k.jpg" >
	<img src="assets/images/2k.jpg" >
	<img src="assets/images/5k.jpg" >
	<img src="assets/images/10k.jpg" >
	<img src="assets/images/20k.jpg" >
	<img src="assets/images/50k.jpg" >
	<img src="assets/images/100k.jpg" >
	<img src="assets/images/200k.jpg" >
	<img src="assets/images/500k.jpg" >
	<img src="assets/images/1dolar.jpg" >
	<img src="assets/images/2dolar.jpg" >
</div>
		<script src="assets/js/jquery-3.4.1.min.js"></script>
<!-- <script src="assets/js/main.js"></script> -->



<script>
	$('.close-content, .close-content-full, .btn-close').click(function() {
   	$('#popup-ket-qua .wrapper-popup').css('transform', 'scale(0)');
   	$('.popup').fadeOut();
  });
</script>
		
<script>
		$(document).ready(function () {
		var list_qua = [
			{ src: "assets/images/themluot.jpg", id: "1", name_item: "+1 lượt" },
			{ src: "assets/images/10k.jpg", id: "2", name_item: "10k" },
			{ src: "assets/images/2dolar.jpg", id: "3", name_item: "2$" },
			{ src: "assets/images/200k.jpg", id: "4", name_item: "200k" },
			{ src: "assets/images/20k.jpg", id: "5", name_item: "20k" },
			{ src: "assets/images/1k.jpg", id: "6", name_item: "1k" },
			{ src: "assets/images/50k.jpg", id: "7", name_item: "50k" },
			{ src: "assets/images/100k.jpg", id: "8", name_item: "100k" },
			{ src: "assets/images/1dolar.jpg", id: "9", name_item: "1$" },
			{ src: "assets/images/2k.jpg", id: "10", name_item: "2k" },
			{ src: "assets/images/5k.jpg", id: "11", name_item: "5k" },
			{ src: "assets/images/500k.jpg", id: "12", name_item: "500k" }
		];
	
	
		var wheel = $('#wheel');
		var button = $('#button');
		var number_item = list_qua.length;
		var number_circle = 10; // 5 circle
		var time_spin = 10000; // 5s
	
		var degree_stop = 0;
		var time_click = 0;
		var is_start = 1;
		var time_delay_click_again = 1000;
		var time_show_info = 1000;
	
		var pos_click_setting = 0; // default = 0
		var pos_pause = 0;
		var pos_now = 1;
	
		var img_src = '';
		var name_item = '';
	
		var timeCheckItem;
		var wheel_first = 1;
	
		// degree every item
		var degree_item = 360 / number_item;
		var add_first = degree_item / 2;
		// console.log(add_first);
	
		var add_random = 0;
		var add_random_save = 0;
	
		function setItem(item) {
			pos_pause = item;
		}
		function timeClickAgain() {
			setTimeout(function () {
				is_start = 1;
			}, time_delay_click_again); // time_delay_click_again sau cho click lai
		}
	
		function showqua(item_pos) {
			// for (var loop = 1; loop <= list_qua.length; loop++) {
				img_src = list_qua[item_pos - 1]['src'];
				name_item = list_qua[item_pos - 1]['name_item'];
			// }
		}
	
		function spin_wheel() {
			var adsave = add_random;
			// console.log("add-save-first" + add_random_save);
			
			var degree_add;
			if (pos_now == pos_pause) {
				degree_add = number_circle * 360;
			} else {
				// (vi tri moi - vi tri cu) * goc moi item
				degree_add = (number_circle * 360) - ((pos_pause - pos_now) * degree_item);
			}
			pos_now = pos_pause;
	
			// check wheel first spin
			if (wheel_first == 1) {
				degree_stop = degree_stop + degree_add - add_first - add_random;
				wheel_first = 2;
			} else {
				degree_stop = degree_stop + degree_add + add_random_save - add_random;
			}
	
			// check set so
			if (pos_pause == 0) {
				quaydeu();
			} else {
				quaystop(degree_stop, time_spin);
				add_random_save = add_random;
			}
			// console.log('pos_now: ' + pos_now);
			// console.log('pos_pause: ' + pos_pause);
		}
	
		function quaydeu() {
			var degquaydieu = 90000;
			var timquaydieu = 50;
	
			// $('#wheel').addClass('spindieu');
			$('#wheel').css({
				'transition': "transform 6000ms cubic-bezier(.15,.17,.99,.96)"
			});
		}
	
		function quaystop(degstop, time) {
			$('#wheel').css({
				"transform": "rotate(" + degstop + "deg)",
				"transition": "transform " + time + "ms cubic-bezier(1, .1, .1, 1)",
				"-ms-transform": "transform " + time + "ms cubic-bezier(1, .1, .1, 1)",
				"-webkit-transform": "transform " + time + "ms cubic-bezier(1, .1, .1, 1)"
			});
		}
	
	
		function random(a, b) {
			return Math.floor((Math.random() * b) + a);
		}
	
		// random so am
		function randomAm(a, b) {
			return Math.floor((Math.random() * (2 * a)) - b);
		}
	
		function spinHasItem(itemhas) {
			if (itemhas <= 0) {
				setTimeout(function () {
					spinHasItem();
				}, 10);
			}
		}
	
	
		$('#button').on('click', function () {
			$('#popup-ket-qua .wrapper-popup').css('transform', 'scale(0)');
			$('#popup-ket-qua .img-ket-qua img').hide();
			$('#popup-ket-qua .img-ket-qua img').attr('src', '');
	   	$('#popup-ket-qua .plus-spin').hide();

			var number_random;
			if (pos_click_setting == 0) {
				number_random = random(1, 8);
			} else {
				number_random = pos_pause;
			}
			
			// add_random = randomAm(Math.round(add_first - 1), Math.round(add_first - 1));
			add_random = 0;
	
			// console.log('add_random' + add_random);
	
			if (is_start) {
				
				setItem(number_random);
				spin_wheel();
				
				is_start = 0;
	
				setTimeout(function () {
				 	timeClickAgain();
				 	if (pos_pause != 1) {
				   	showqua(pos_now);
				   	// console.log(img_src + '-' + name_item);
				   	$('#popup-ket-qua .img-ket-qua img').show();

				   	$('#popup-ket-qua .img-ket-qua img').attr('src', img_src);
				   	setTimeout(function () {
					   	$('#popup-ket-qua').fadeIn();
					   	$('#popup-ket-qua .wrapper-popup').css('transform', 'scale(1)');
					  }, 500);
				 	} else {
				 		showqua(pos_now);
				   	$('#popup-ket-qua .plus-spin').show();
				   	$('#popup-ket-qua').fadeIn();
				   	$('#popup-ket-qua .wrapper-popup').css('transform', 'scale(1)');
				 	}
				}, time_spin + time_show_info);
	
			}
		});

		// TODO: rotate button wheel
		$('.rotate-circle').hover(function(){
			$(this).closest('.spin-wheel-main').find('.img-muiten').toggleClass('img-muiten-ani');
		});

		// TODO: click setting
		var data_setting = 0;
		$('.main-setting').on('click', '.btn-setting', function() {
			data_setting = parseInt($(this).attr('data-setting'));
			pos_click_setting = data_setting;
			setItem(data_setting);
			$('.list-btn-setting li').removeClass('active');
			$(this).closest('li').addClass('active');
		});

		// TODO: click arrow
		var height_box_setting = $('.box-setting').innerHeight() + 6;
		if ($('.box-setting').hasClass('open')) {
			$('.box-setting').css('bottom', '-3px');
		} else {
			$('.box-setting').css('bottom', -height_box_setting );
		}

		$('.arrow-setting').click(function() {

			if ($('.box-setting').hasClass('open')) {
				$('.box-setting').css('bottom', -height_box_setting);
			} else {
				$('.box-setting').css('bottom', '-3px');
			}
			$(this).toggleClass('open');
			$('.box-setting').toggleClass('open');
			
		});
	
		
	});
	</script>
	</body>
</html>